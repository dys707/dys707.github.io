---
layout: default
title: å®éªŒåˆ—è¡¨
---

<section class="banner">
    <div class="container">
        <h1>å®éªŒåˆ—è¡¨</h1>
        <p>æµè§ˆæ‰€æœ‰å¤§å­¦æœŸé—´å®Œæˆçš„å®éªŒä½œä¸š</p>
        <a href="{{ 'index.html' | relative_url }}" class="btn-outline">è¿”å›é¦–é¡µ</a>
    </div>
</section>

<section class="experiments-list">
    <div class="container">
        <div class="experiments-layout">
            <!-- å·¦ä¾§å®éªŒåˆ—è¡¨ -->
            <div class="experiments-main">
                <!-- æ’åºé€‰é¡¹ -->
                <div class="sort-options">
                    <label for="sort-select">æ’åºæ–¹å¼ï¼š</label>
                    <select id="sort-select">
                        <option value="date-desc">æ—¥æœŸï¼ˆä»æ–°åˆ°æ—§ï¼‰</option>
                        <option value="date-asc">æ—¥æœŸï¼ˆä»æ—§åˆ°æ–°ï¼‰</option>
                        <option value="course">è¯¾ç¨‹</option>
                        <option value="difficulty">éš¾åº¦</option>
                    </select>
                    <br>
                    <p style="text-align: center; color: #7f8c8d; font-size: 1.1rem;"><i class="icon">ğŸ”ƒ</i> æ‰¾ä¸åˆ°å®éªŒï¼Ÿå°è¯•åˆ·æ–°ç½‘é¡µ<i class="icon">ğŸ”ƒ</i> </p>
                </div>



                <!-- ç»Ÿè®¡ä¿¡æ¯ -->
                <div class="stats-info">
                    <p>å…± <strong id="experiment-count">{{ site.experiments | size }}</strong> ä¸ªé¡¹ç›®</p>
                </div>

                <!-- å®éªŒåˆ—è¡¨ -->
                <div class="experiment-items">
                    <!-- æŒ‰æ—¥æœŸå€’åºæ’åˆ—ï¼ˆæœ€æ–°çš„åœ¨å‰é¢ï¼‰ -->
                    {% assign sorted_experiments = site.experiments | sort: "date" | reverse %}

                    {% for experiment in sorted_experiments %}
                    <div class="experiment-item"
                         data-category="{{ experiment.tags | first | downcase }}"
                         data-date="{{ experiment.date | date: '%Y-%m-%d' }}"
                         data-difficulty="{{ experiment.difficulty }}"
                         data-course="{{ experiment.course }}"
                         data-courseld="{{ experiment.courseId }}">
                        <div class="experiment-item-header">
                            <h3>
                                <a href="{{ experiment.url | relative_url }}">
                                    {{ experiment.title }}
                                </a>
                            </h3>
                            <span class="difficulty-badge difficulty-{{ experiment.difficulty | downcase }}">
                                {{ experiment.difficulty }}
                            </span>
                        </div>

                        <div class="experiment-meta">
                            <span class="meta-course">
                                <i class="icon">ğŸ“š</i> {{ experiment.course }}
                            </span>
                            <span class="meta-date">
                                <i class="icon">ğŸ“…</i> {{ experiment.date | date: "%Yå¹´%mæœˆ%dæ—¥" }}
                            </span>
                            <span class="meta-tags">
                                <i class="icon">ğŸ·ï¸</i>
                                {% for tag in experiment.tags %}
                                <span class="tag">{{ tag }}</span>
                                {% endfor %}
                            </span>
                        </div>

                        <p class="experiment-description">{{ experiment.description }}</p>

                        <div class="experiment-actions">
                            <a href="{{ experiment.url | relative_url }}" class="btn-small">
                                æŸ¥çœ‹è¯¦æƒ…
                            </a>
                            {% if experiment.reportFile %}
                            <a href="{{ '/assets/experiments/' | append: experiment.resource_dir | append: '/' | append: experiment.reportFile | relative_url }}"
                               class="btn-small btn-outline" target="_blank">
                                é¢„è§ˆæŠ¥å‘Š
                            </a>
                            {% endif %}
                        </div>
                    </div>
                    {% endfor %}
                </div>

                <!-- ç©ºçŠ¶æ€æç¤º -->
                <div id="no-experiments" class="no-experiments-message" style="display: none;">
                    <p>æš‚æ— ç¬¦åˆæ¡ä»¶çš„å®éªŒ</p>
                </div>
            </div>

            <!-- å³ä¾§ç­›é€‰æ  -->
            <div class="filter-sidebar">
                <div class="filter-section">
                    <h3>æ ‡ç­¾ç­›é€‰</h3>
                    <div class="filter-tags">
                        <button class="filter-tag active" data-filter="all">å…¨éƒ¨</button>
                        <button class="filter-tag" data-filter="ç¼–ç¨‹">ç¼–ç¨‹</button>
                        <button class="filter-tag" data-filter="ç¡¬ä»¶">ç¡¬ä»¶</button>
                        <button class="filter-tag" data-filter="ç†è®º">ç†è®º</button>
                        <button class="filter-tag" data-filter="åº”ç”¨">åº”ç”¨</button>
                    </div>
                </div>

                <div class="filter-section">
                    <h3>è¯¾ç¨‹ç­›é€‰</h3>
                    <div class="filter-courses">
                        <button class="filter-course active" data-course="all">å…¨éƒ¨è¯¾ç¨‹</button>
                        {% assign all_courses = site.experiments | map: "course" | uniq %}
                        {% for course in all_courses %}
                        <button class="filter-course" data-course="{{ course }}">{{ course }}</button>
                        {% endfor %}
                    </div>
                </div>

                <div class="filter-section">
                    <h3>éš¾åº¦ç­›é€‰</h3>
                    <div class="filter-difficulty">
                        <button class="filter-diff active" data-difficulty="all">å…¨éƒ¨éš¾åº¦</button>
                        <button class="filter-diff" data-difficulty="ç®€å•">ç®€å•</button>
                        <button class="filter-diff" data-difficulty="ä¸­ç­‰">ä¸­ç­‰</button>
                        <button class="filter-diff" data-difficulty="å›°éš¾">å›°éš¾</button>
                    </div>
                </div>

                <div class="filter-actions">
                    <button id="reset-filters" class="btn-outline">é‡ç½®ç­›é€‰</button>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- æ·»åŠ åˆ—è¡¨é¡µä¸“å±æ ·å¼ -->
<style>
/* å®éªŒåˆ—è¡¨é¡µå¸ƒå±€ */
.experiments-layout {
    display: grid;
    grid-template-columns: 3fr 1fr;
    gap: 30px;
    align-items: start;
}

.experiments-main {
    grid-column: 1;
}

.filter-sidebar {
    grid-column: 2;
    position: sticky;
    top: 20px;
    background: white;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    height: fit-content;
}

/* ç­›é€‰æ æ ·å¼ */
.filter-section {
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 1px solid #ecf0f1;
}

.filter-section:last-child {
    border-bottom: none;
    margin-bottom: 0;
}

.filter-section h3 {
    margin: 0 0 15px 0;
    color: #2c3e50;
    font-size: 1.2rem;
    font-weight: 600;
}

.filter-tags, .filter-courses, .filter-difficulty {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.filter-tag, .filter-course, .filter-diff {
    background: white;
    border: 1px solid #ddd;
    color: #555;
    padding: 8px 12px;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s;
    text-align: left;
    font-size: 0.9rem;
}

.filter-tag:hover, .filter-course:hover, .filter-diff:hover {
    border-color: #667eea;
    color: #667eea;
    transform: translateX(3px);
}

.filter-tag.active, .filter-course.active, .filter-diff.active {
    background: #667eea;
    color: white;
    border-color: #667eea;
    font-weight: 500;
}

.filter-actions {
    margin-top: 20px;
    text-align: center;
}

#reset-filters {
    width: 100%;
    padding: 10px;
    border-radius: 6px;
    font-weight: 500;
}

/* åŸæœ‰æ ·å¼ä¿æŒ */
.sort-options {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 20px;
    padding: 15px;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 8px;
}

.sort-options label {
    font-weight: 500;
    color: #2c3e50;
}

#sort-select {
    padding: 8px 12px;
    border: 1px solid #ddd;
    border-radius: 5px;
    background: white;
}

.stats-info {
    text-align: center;
    margin-bottom: 30px;
    padding: 15px;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    border-radius: 8px;
    font-size: 1.1rem;
}

.experiment-items {
    display: grid;
    gap: 25px;
}

.experiment-item {
    background: white;
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    transition: all 0.3s ease;
    border-left: 4px solid #667eea;
}

.experiment-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.15);
}

.experiment-item-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 15px;
}

.experiment-item-header h3 {
    margin: 0;
    flex: 1;
}

.experiment-item-header h3 a {
    color: #2c3e50;
    font-size: 1.4rem;
    text-decoration: none;
    transition: color 0.3s;
}

.experiment-item-header h3 a:hover {
    color: #667eea;
}

.difficulty-badge {
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;
    margin-left: 15px;
}

.difficulty-easy {
    background: #d4edda;
    color: #155724;
}

.difficulty-medium {
    background: #fff3cd;
    color: #856404;
}

.difficulty-hard {
    background: #f8d7da;
    color: #721c24;
}

.experiment-meta {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 1px solid #ecf0f1;
}

.meta-course, .meta-date, .meta-tags {
    display: flex;
    align-items: center;
    gap: 5px;
    font-size: 0.9rem;
    color: #7f8c8d;
}

.meta-tags {
    flex-wrap: wrap;
}

.tag {
    background: #e3f2fd;
    color: #1976d2;
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 0.8rem;
    margin: 0 2px;
}

.experiment-description {
    color: #5d6d7e;
    line-height: 1.6;
    margin-bottom: 20px;
    font-size: 1.1rem;
}

.experiment-actions {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.btn-small, .btn-outline {
    padding: 8px 16px;
    border-radius: 6px;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.3s;
    border: none;
    cursor: pointer;
}

.btn-small {
    background: #667eea;
    color: white;
}

.btn-outline {
    background: transparent;
    border: 2px solid #667eea;
    color: #667eea;
}

.btn-outline:hover {
    background: #667eea;
    color: white;
}

.no-experiments-message {
    text-align: center;
    padding: 60px 20px;
    background: white;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.no-experiments-message p {
    font-size: 1.2rem;
    color: #7f8c8d;
    margin: 0;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
    .experiments-layout {
        grid-template-columns: 1fr;
        gap: 20px;
    }

    .filter-sidebar {
        grid-column: 1;
        position: static;
        order: -1;
    }

    .experiment-item-header {
        flex-direction: column;
        gap: 10px;
    }

    .difficulty-badge {
        align-self: flex-start;
        margin-left: 0;
    }

    .experiment-meta {
        flex-direction: column;
        gap: 10px;
    }

    .experiment-actions {
        justify-content: center;
    }
}
</style>

<!-- æ·»åŠ äº¤äº’åŠŸèƒ½ -->
<script>
// ä½¿ç”¨æ›´ç¨³å®šçš„åˆå§‹åŒ–æ–¹å¼
function initializeFilterSystem() {
    // è·å–æ‰€æœ‰å…ƒç´ 
    const filterTags = document.querySelectorAll('.filter-tag');
    const filterCourses = document.querySelectorAll('.filter-course');
    const filterDiffs = document.querySelectorAll('.filter-diff');
    const experimentItems = document.querySelectorAll('.experiment-item');
    const noExperimentsMessage = document.getElementById('no-experiments');
    const sortSelect = document.getElementById('sort-select');
    const resetButton = document.getElementById('reset-filters');
    const experimentCountElement = document.getElementById('experiment-count');

    // æ£€æŸ¥æ˜¯å¦æˆåŠŸè·å–åˆ°å…ƒç´ 
    if (experimentItems.length === 0) {
        console.warn('æœªæ‰¾åˆ°å®éªŒé¡¹ç›®ï¼Œå¯èƒ½æ˜¯é¡µé¢å°šæœªå®Œå…¨åŠ è½½');
        return false;
    }

    // å½“å‰ç­›é€‰çŠ¶æ€
    let currentTag = 'all';
    let currentCourse = 'all';
    let currentDifficulty = 'all';

    // æ ‡ç­¾ç­›é€‰æŒ‰é’®ç‚¹å‡»äº‹ä»¶
    filterTags.forEach(button => {
        button.addEventListener('click', function() {
            filterTags.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
            currentTag = this.getAttribute('data-filter');
            applyFilters();
        });
    });

    // è¯¾ç¨‹ç­›é€‰æŒ‰é’®ç‚¹å‡»äº‹ä»¶
    filterCourses.forEach(button => {
        button.addEventListener('click', function() {
            filterCourses.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
            currentCourse = this.getAttribute('data-course');
            applyFilters();
        });
    });

    // éš¾åº¦ç­›é€‰æŒ‰é’®ç‚¹å‡»äº‹ä»¶
    filterDiffs.forEach(button => {
        button.addEventListener('click', function() {
            filterDiffs.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
            currentDifficulty = this.getAttribute('data-difficulty');
            applyFilters();
        });
    });

    // é‡ç½®ç­›é€‰æŒ‰é’®
    resetButton.addEventListener('click', function() {
        // é‡ç½®æ‰€æœ‰ç­›é€‰æŒ‰é’®
        filterTags.forEach(btn => {
            btn.classList.remove('active');
            if (btn.getAttribute('data-filter') === 'all') {
                btn.classList.add('active');
            }
        });

        filterCourses.forEach(btn => {
            btn.classList.remove('active');
            if (btn.getAttribute('data-course') === 'all') {
                btn.classList.add('active');
            }
        });

        filterDiffs.forEach(btn => {
            btn.classList.remove('active');
            if (btn.getAttribute('data-difficulty') === 'all') {
                btn.classList.add('active');
            }
        });

        // é‡ç½®ç­›é€‰çŠ¶æ€
        currentTag = 'all';
        currentCourse = 'all';
        currentDifficulty = 'all';

        applyFilters();
    });

    // æ’åºé€‰æ‹©äº‹ä»¶
    sortSelect.addEventListener('change', function() {
        sortExperiments(this.value);
    });

    // åº”ç”¨ç­›é€‰å‡½æ•°
    function applyFilters() {
        let visibleCount = 0;

        experimentItems.forEach(item => {
            // ç¡®ä¿æ•°æ®å±æ€§å­˜åœ¨
            const itemTag = item.getAttribute('data-category') || '';
            const itemCourse = item.getAttribute('data-course') || '';
            const itemDifficulty = item.getAttribute('data-difficulty') || '';

            // ä½¿ç”¨æ›´å®½æ¾çš„åŒ¹é…é€»è¾‘
            const tagMatch = currentTag === 'all' ||
                            itemTag === currentTag.toLowerCase() ||
                            itemTag.includes(currentTag.toLowerCase());

            const courseMatch = currentCourse === 'all' ||
                              itemCourse === currentCourse;

            const difficultyMatch = currentDifficulty === 'all' ||
                                  itemDifficulty === currentDifficulty;

            if (tagMatch && courseMatch && difficultyMatch) {
                item.style.display = 'block';
                visibleCount++;
            } else {
                item.style.display = 'none';
            }
        });

        // æ›´æ–°å®éªŒè®¡æ•°
        if (experimentCountElement) {
            experimentCountElement.textContent = visibleCount;
        }

        // æ˜¾ç¤º/éšè—ç©ºçŠ¶æ€æ¶ˆæ¯
        if (noExperimentsMessage) {
            if (visibleCount === 0) {
                noExperimentsMessage.style.display = 'block';
            } else {
                noExperimentsMessage.style.display = 'none';
            }
        }

        return true;
    }

    // æ’åºå®éªŒå‡½æ•°
    function sortExperiments(sortValue) {
        const container = document.querySelector('.experiment-items');
        if (!container) return;

        const items = Array.from(experimentItems);

        items.sort((a, b) => {
            switch (sortValue) {
                case 'date-desc':
                    return new Date(b.getAttribute('data-date')) - new Date(a.getAttribute('data-date'));
                case 'date-asc':
                    return new Date(a.getAttribute('data-date')) - new Date(b.getAttribute('data-date'));
                case 'course':
                    return (a.getAttribute('data-course') || '').localeCompare(b.getAttribute('data-course') || '');
                case 'difficulty':
                    const difficultyOrder = { 'ç®€å•': 1, 'ä¸­ç­‰': 2, 'å›°éš¾': 3 };
                    const aDiff = a.getAttribute('data-difficulty') || 'ç®€å•';
                    const bDiff = b.getAttribute('data-difficulty') || 'ç®€å•';
                    return difficultyOrder[aDiff] - difficultyOrder[bDiff];
                default:
                    return 0;
            }
        });

        // æ¸…ç©ºå®¹å™¨å¹¶é‡æ–°æ·»åŠ æ’åºåçš„é¡¹ç›®
        container.innerHTML = '';
        items.forEach(item => container.appendChild(item));

        // é‡æ–°åº”ç”¨ç­›é€‰ï¼Œç¡®ä¿æ˜¾ç¤ºçŠ¶æ€æ­£ç¡®
        applyFilters();
    }

    // åˆå§‹åŒ–ï¼šæ˜¾ç¤ºæ‰€æœ‰å®éªŒ
    const initSuccess = applyFilters();

    if (initSuccess) {
        console.log('ç­›é€‰ç³»ç»Ÿåˆå§‹åŒ–æˆåŠŸ');
    } else {
        console.warn('ç­›é€‰ç³»ç»Ÿåˆå§‹åŒ–å¯èƒ½å­˜åœ¨é—®é¢˜');
    }

    return initSuccess;
}

// å¤šç§åˆå§‹åŒ–æ–¹å¼ç¡®ä¿ç¨³å®šæ€§
document.addEventListener('DOMContentLoaded', function() {
    // ç«‹å³å°è¯•åˆå§‹åŒ–
    let initialized = initializeFilterSystem();

    // å¦‚æœåˆå§‹åŒ–å¤±è´¥ï¼Œå»¶è¿Ÿé‡è¯•
    if (!initialized) {
        console.log('å»¶è¿Ÿåˆå§‹åŒ–ç­›é€‰ç³»ç»Ÿ...');
        setTimeout(() => {
            initialized = initializeFilterSystem();
            if (!initialized) {
                console.error('ç­›é€‰ç³»ç»Ÿåˆå§‹åŒ–å¤±è´¥');
            }
        }, 500);
    }
});

// æ·»åŠ é¡µé¢å¯è§æ€§å˜åŒ–æ—¶çš„é‡æ–°åˆå§‹åŒ–
document.addEventListener('visibilitychange', function() {
    if (!document.hidden) {
        // é¡µé¢å˜ä¸ºå¯è§æ—¶ï¼Œé‡æ–°æ£€æŸ¥ç­›é€‰ç³»ç»Ÿ
        setTimeout(initializeFilterSystem, 100);
    }
});

// æ·»åŠ çª—å£åŠ è½½å®Œæˆåçš„æ£€æŸ¥
window.addEventListener('load', function() {
    setTimeout(initializeFilterSystem, 100);
});
</script>